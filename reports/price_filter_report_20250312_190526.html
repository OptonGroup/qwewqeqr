
    <!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Отчет о тестировании фильтрации по цене - 20250312_190526</title>
        <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            h1, h2, h3 { color: #333; }
            table { border-collapse: collapse; width: 100%; margin-bottom: 20px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #f2f2f2; }
            tr:nth-child(even) { background-color: #f9f9f9; }
            .summary { background-color: #e6f7ff; padding: 10px; border-radius: 5px; margin-bottom: 20px; }
            .warning { color: #ff6600; }
            .success { color: #009900; }
            .error { color: #cc0000; }
            .test-section { margin-bottom: 30px; border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
        </style>
    </head>
    <body>
        <h1>Отчет о тестировании фильтрации по цене в API Wildberries</h1>
        <p>Дата и время: 20250312_190526</p>
        
        <div class="summary">
            <h2>Общие выводы</h2>
            <ul>
                <li>Параметр <strong>min_price</strong> фильтрует товары по основной цене (price ≥ min_price)</li>
                <li>Параметр <strong>max_price</strong> фильтрует товары по скидочной цене (sale_price ≤ max_price)</li>
                <li>При указании обоих параметров фильтры применяются последовательно</li>
                <li>При противоречивых параметрах (min_price > max_price) приоритет отдается min_price</li>
            </ul>
        </div>
    
        <div class="test-section">
            <h2>Базовый тест</h2>
            
            <h3>Параметры теста</h3>
            <ul>
                <li>Запрос: пиджак серый</li>
                <li>Минимальная цена: None</li>
                <li>Максимальная цена: None</li>
                <li>Лимит товаров: 3</li>
            </ul>
            
            <h3>Результаты</h3>
            <p>Найдено товаров: 3</p>
            
            <h4>Основные цены (price)</h4>
            <ul>
                <li>Минимальная: 7000 руб.</li>
                <li>Максимальная: 19300 руб.</li>
                <li>Средняя: 11430.00 руб.</li>
            </ul>
            
            <h4>Скидочные цены (sale_price)</h4>
            <ul>
                <li>Минимальная: 2447 руб.</li>
                <li>Максимальная: 3582 руб.</li>
                <li>Средняя: 3036.33 руб.</li>
            </ul>
            
            <h4>Скидки</h4>
            <ul>
                <li>Минимальная: 55.17%</li>
                <li>Максимальная: 84.04%</li>
                <li>Средняя: 68.08%</li>
            </ul>
            
            <h3>Найденные товары</h3>
            <table>
                <tr>
                    <th>Название</th>
                    <th>Бренд</th>
                    <th>Основная цена</th>
                    <th>Скидочная цена</th>
                    <th>Скидка</th>
                </tr>
        
                <tr>
                    <td>Пиджак оверсайз жакет</td>
                    <td>CHU.CHU</td>
                    <td>19300 руб.</td>
                    <td>3080 руб.</td>
                    <td>84.04%</td>
                </tr>
            
                <tr>
                    <td>Пиджак оверсайз серый удлиненный</td>
                    <td>Leswan for you</td>
                    <td>7990 руб.</td>
                    <td>3582 руб.</td>
                    <td>55.17%</td>
                </tr>
            
                <tr>
                    <td>Пиджак оверсайз блейзер жакет</td>
                    <td></td>
                    <td>7000 руб.</td>
                    <td>2447 руб.</td>
                    <td>65.04%</td>
                </tr>
            
            </table>
            
            <h3>Выводы</h3>
        
            <p>Базовый поиск без фильтрации по цене. Показывает исходные данные для сравнения.</p>
            
        </div>
        
        <div class="test-section">
            <h2>Тест с низкой максимальной ценой</h2>
            
            <h3>Параметры теста</h3>
            <ul>
                <li>Запрос: пиджак серый</li>
                <li>Минимальная цена: None</li>
                <li>Максимальная цена: 5000</li>
                <li>Лимит товаров: 3</li>
            </ul>
            
            <h3>Результаты</h3>
            <p>Найдено товаров: 3</p>
            
            <h4>Основные цены (price)</h4>
            <ul>
                <li>Минимальная: 7000 руб.</li>
                <li>Максимальная: 19300 руб.</li>
                <li>Средняя: 11430.00 руб.</li>
            </ul>
            
            <h4>Скидочные цены (sale_price)</h4>
            <ul>
                <li>Минимальная: 2447 руб.</li>
                <li>Максимальная: 3582 руб.</li>
                <li>Средняя: 3036.33 руб.</li>
            </ul>
            
            <h4>Скидки</h4>
            <ul>
                <li>Минимальная: 55.17%</li>
                <li>Максимальная: 84.04%</li>
                <li>Средняя: 68.08%</li>
            </ul>
            
            <h3>Найденные товары</h3>
            <table>
                <tr>
                    <th>Название</th>
                    <th>Бренд</th>
                    <th>Основная цена</th>
                    <th>Скидочная цена</th>
                    <th>Скидка</th>
                </tr>
        
                <tr>
                    <td>Пиджак оверсайз жакет</td>
                    <td>CHU.CHU</td>
                    <td>19300 руб.</td>
                    <td>3080 руб.</td>
                    <td>84.04%</td>
                </tr>
            
                <tr>
                    <td>Пиджак оверсайз серый удлиненный</td>
                    <td>Leswan for you</td>
                    <td>7990 руб.</td>
                    <td>3582 руб.</td>
                    <td>55.17%</td>
                </tr>
            
                <tr>
                    <td>Пиджак оверсайз блейзер жакет</td>
                    <td></td>
                    <td>7000 руб.</td>
                    <td>2447 руб.</td>
                    <td>65.04%</td>
                </tr>
            
            </table>
            
            <h3>Выводы</h3>
        
            <p>Фильтрация по максимальной цене (max_price=5000):</p>
            <p class="success">
                Все товары имеют скидочную цену ≤ 5000 руб.
            </p>
            <p>Вывод: Параметр max_price фильтрует товары по скидочной цене (sale_price).</p>
            
        </div>
        
        <div class="test-section">
            <h2>Тест с высокой минимальной ценой</h2>
            
            <h3>Параметры теста</h3>
            <ul>
                <li>Запрос: пиджак серый</li>
                <li>Минимальная цена: 10000</li>
                <li>Максимальная цена: None</li>
                <li>Лимит товаров: 3</li>
            </ul>
            
            <h3>Результаты</h3>
            <p>Найдено товаров: 3</p>
            
            <h4>Основные цены (price)</h4>
            <ul>
                <li>Минимальная: 24434 руб.</li>
                <li>Максимальная: 50000 руб.</li>
                <li>Средняя: 33096.00 руб.</li>
            </ul>
            
            <h4>Скидочные цены (sale_price)</h4>
            <ul>
                <li>Минимальная: 10399 руб.</li>
                <li>Максимальная: 22500 руб.</li>
                <li>Средняя: 14933.00 руб.</li>
            </ul>
            
            <h4>Скидки</h4>
            <ul>
                <li>Минимальная: 52.12%</li>
                <li>Максимальная: 57.44%</li>
                <li>Средняя: 54.85%</li>
            </ul>
            
            <h3>Найденные товары</h3>
            <table>
                <tr>
                    <th>Название</th>
                    <th>Бренд</th>
                    <th>Основная цена</th>
                    <th>Скидочная цена</th>
                    <th>Скидка</th>
                </tr>
        
                <tr>
                    <td>Удлиненный пиджак оверсайз</td>
                    <td>Sasha'z</td>
                    <td>50000 руб.</td>
                    <td>22500 руб.</td>
                    <td>55.00%</td>
                </tr>
            
                <tr>
                    <td>Пиджак оверсайз серый в полоску CHANCE</td>
                    <td>Вначале любовь</td>
                    <td>24434 руб.</td>
                    <td>10399 руб.</td>
                    <td>57.44%</td>
                </tr>
            
                <tr>
                    <td>Пиджак серый оверсайз</td>
                    <td>Вначале любовь</td>
                    <td>24854 руб.</td>
                    <td>11900 руб.</td>
                    <td>52.12%</td>
                </tr>
            
            </table>
            
            <h3>Выводы</h3>
        
            <p>Фильтрация по минимальной цене (min_price=10000):</p>
            <p class="success">
                Все товары имеют основную цену ≥ 10000 руб.
            </p>
            <p>Вывод: Параметр min_price фильтрует товары по основной цене (price).</p>
            
        </div>
        
        <div class="test-section">
            <h2>Тест с диапазоном цен</h2>
            
            <h3>Параметры теста</h3>
            <ul>
                <li>Запрос: пиджак серый</li>
                <li>Минимальная цена: 5000</li>
                <li>Максимальная цена: 20000</li>
                <li>Лимит товаров: 3</li>
            </ul>
            
            <h3>Результаты</h3>
            <p>Найдено товаров: 3</p>
            
            <h4>Основные цены (price)</h4>
            <ul>
                <li>Минимальная: 6600 руб.</li>
                <li>Максимальная: 17500 руб.</li>
                <li>Средняя: 11050.00 руб.</li>
            </ul>
            
            <h4>Скидочные цены (sale_price)</h4>
            <ul>
                <li>Минимальная: 5016 руб.</li>
                <li>Максимальная: 6650 руб.</li>
                <li>Средняя: 5722.67 руб.</li>
            </ul>
            
            <h4>Скидки</h4>
            <ul>
                <li>Минимальная: 24.00%</li>
                <li>Максимальная: 62.00%</li>
                <li>Средняя: 41.73%</li>
            </ul>
            
            <h3>Найденные товары</h3>
            <table>
                <tr>
                    <th>Название</th>
                    <th>Бренд</th>
                    <th>Основная цена</th>
                    <th>Скидочная цена</th>
                    <th>Скидка</th>
                </tr>
        
                <tr>
                    <td>Пиджак оверсайз удлиненный 2025</td>
                    <td>YèsDarling</td>
                    <td>6600 руб.</td>
                    <td>5016 руб.</td>
                    <td>24.00%</td>
                </tr>
            
                <tr>
                    <td>Пиджак приталенный короткий</td>
                    <td>Sabаy</td>
                    <td>17500 руб.</td>
                    <td>6650 руб.</td>
                    <td>62.00%</td>
                </tr>
            
                <tr>
                    <td>Пиджак серый оверсайз</td>
                    <td>Six Reasons</td>
                    <td>9050 руб.</td>
                    <td>5502 руб.</td>
                    <td>39.20%</td>
                </tr>
            
            </table>
            
            <h3>Выводы</h3>
        
                <p>Фильтрация по диапазону цен (min_price=5000, max_price=20000):</p>
                <p class="success">
                    Все товары имеют основную цену ≥ 5000 руб.
                </p>
                <p class="success">
                    Все товары имеют скидочную цену ≤ 20000 руб.
                </p>
                <p>Вывод: При указании обоих параметров фильтры применяются последовательно.</p>
                
        </div>
        
        <div class="test-section">
            <h2>Тест с противоречивыми параметрами</h2>
            
            <h3>Параметры теста</h3>
            <ul>
                <li>Запрос: пиджак серый</li>
                <li>Минимальная цена: 30000</li>
                <li>Максимальная цена: 10000</li>
                <li>Лимит товаров: 3</li>
            </ul>
            
            <h3>Результаты</h3>
            <p>Найдено товаров: 3</p>
            
            <h4>Основные цены (price)</h4>
            <ul>
                <li>Минимальная: 40600 руб.</li>
                <li>Максимальная: 500000 руб.</li>
                <li>Средняя: 203209.00 руб.</li>
            </ul>
            
            <h4>Скидочные цены (sale_price)</h4>
            <ul>
                <li>Минимальная: 32442 руб.</li>
                <li>Максимальная: 380000 руб.</li>
                <li>Средняя: 149931.33 руб.</li>
            </ul>
            
            <h4>Скидки</h4>
            <ul>
                <li>Минимальная: 8.00%</li>
                <li>Максимальная: 53.00%</li>
                <li>Средняя: 28.33%</li>
            </ul>
            
            <h3>Найденные товары</h3>
            <table>
                <tr>
                    <th>Название</th>
                    <th>Бренд</th>
                    <th>Основная цена</th>
                    <th>Скидочная цена</th>
                    <th>Скидка</th>
                </tr>
        
                <tr>
                    <td>Пиджак</td>
                    <td>HUGO</td>
                    <td>40600 руб.</td>
                    <td>37352 руб.</td>
                    <td>8.00%</td>
                </tr>
            
                <tr>
                    <td>Пиджак фактурный приталенного кроя</td>
                    <td>Venti</td>
                    <td>69027 руб.</td>
                    <td>32442 руб.</td>
                    <td>53.00%</td>
                </tr>
            
                <tr>
                    <td>Жакет Пиджак приталенный</td>
                    <td></td>
                    <td>500000 руб.</td>
                    <td>380000 руб.</td>
                    <td>24.00%</td>
                </tr>
            
            </table>
            
            <h3>Выводы</h3>
        
                <p class="warning">Противоречивые параметры (min_price=30000 > max_price=10000):</p>
                <p class="success">
                    Все товары имеют основную цену ≥ 30000 руб.
                </p>
                <p class="warning">
                    Не все товары имеют скидочную цену ≤ 10000 руб.
                </p>
                <p>Вывод: При противоречивых параметрах приоритет отдается min_price.</p>
                
        </div>
        
        <div class="test-section">
            <h2>Тест с очень низкой максимальной ценой</h2>
            
            <h3>Параметры теста</h3>
            <ul>
                <li>Запрос: пиджак серый</li>
                <li>Минимальная цена: None</li>
                <li>Максимальная цена: 1000</li>
                <li>Лимит товаров: 3</li>
            </ul>
            
            <h3>Результаты</h3>
            <p>Найдено товаров: 3</p>
            
            <h4>Основные цены (price)</h4>
            <ul>
                <li>Минимальная: 5000 руб.</li>
                <li>Максимальная: 9767 руб.</li>
                <li>Средняя: 6989.00 руб.</li>
            </ul>
            
            <h4>Скидочные цены (sale_price)</h4>
            <ul>
                <li>Минимальная: 570 руб.</li>
                <li>Максимальная: 942 руб.</li>
                <li>Средняя: 800.67 руб.</li>
            </ul>
            
            <h4>Скидки</h4>
            <ul>
                <li>Минимальная: 84.81%</li>
                <li>Максимальная: 90.89%</li>
                <li>Средняя: 88.10%</li>
            </ul>
            
            <h3>Найденные товары</h3>
            <table>
                <tr>
                    <th>Название</th>
                    <th>Бренд</th>
                    <th>Основная цена</th>
                    <th>Скидочная цена</th>
                    <th>Скидка</th>
                </tr>
        
                <tr>
                    <td>Пиджак оверсайз укороченный в офис и школу</td>
                    <td>ARCHIVES MEMORY</td>
                    <td>9767 руб.</td>
                    <td>890 руб.</td>
                    <td>90.89%</td>
                </tr>
            
                <tr>
                    <td>пиджак</td>
                    <td></td>
                    <td>5000 руб.</td>
                    <td>570 руб.</td>
                    <td>88.60%</td>
                </tr>
            
                <tr>
                    <td>Пиджак укороченный двубортный</td>
                    <td>IMBRAVE</td>
                    <td>6200 руб.</td>
                    <td>942 руб.</td>
                    <td>84.81%</td>
                </tr>
            
            </table>
            
            <h3>Выводы</h3>
        
            <p>Фильтрация по максимальной цене (max_price=1000):</p>
            <p class="success">
                Все товары имеют скидочную цену ≤ 1000 руб.
            </p>
            <p>Вывод: Параметр max_price фильтрует товары по скидочной цене (sale_price).</p>
            
        </div>
        
        <div class="test-section">
            <h2>Тест с очень высокой минимальной ценой</h2>
            
            <h3>Параметры теста</h3>
            <ul>
                <li>Запрос: пиджак серый</li>
                <li>Минимальная цена: 50000</li>
                <li>Максимальная цена: None</li>
                <li>Лимит товаров: 3</li>
            </ul>
            
            <h3>Результаты</h3>
            <p>Найдено товаров: 3</p>
            
            <h4>Основные цены (price)</h4>
            <ul>
                <li>Минимальная: 95802 руб.</li>
                <li>Максимальная: 500000 руб.</li>
                <li>Средняя: 235693.67 руб.</li>
            </ul>
            
            <h4>Скидочные цены (sale_price)</h4>
            <ul>
                <li>Минимальная: 50075 руб.</li>
                <li>Максимальная: 380000 руб.</li>
                <li>Средняя: 162518.67 руб.</li>
            </ul>
            
            <h4>Скидки</h4>
            <ul>
                <li>Минимальная: 24.00%</li>
                <li>Максимальная: 55.00%</li>
                <li>Средняя: 39.67%</li>
            </ul>
            
            <h3>Найденные товары</h3>
            <table>
                <tr>
                    <th>Название</th>
                    <th>Бренд</th>
                    <th>Основная цена</th>
                    <th>Скидочная цена</th>
                    <th>Скидка</th>
                </tr>
        
                <tr>
                    <td>Жакет Пиджак приталенный</td>
                    <td></td>
                    <td>500000 руб.</td>
                    <td>380000 руб.</td>
                    <td>24.00%</td>
                </tr>
            
                <tr>
                    <td>Пиджак однобортный приталенного кроя</td>
                    <td>bugatti</td>
                    <td>111279 руб.</td>
                    <td>50075 руб.</td>
                    <td>55.00%</td>
                </tr>
            
                <tr>
                    <td>Пиджак серого цвета из смесового льна</td>
                    <td>Roy Roy</td>
                    <td>95802 руб.</td>
                    <td>57481 руб.</td>
                    <td>40.00%</td>
                </tr>
            
            </table>
            
            <h3>Выводы</h3>
        
            <p>Фильтрация по минимальной цене (min_price=50000):</p>
            <p class="success">
                Все товары имеют основную цену ≥ 50000 руб.
            </p>
            <p>Вывод: Параметр min_price фильтрует товары по основной цене (price).</p>
            
        </div>
        
    </body>
    </html>
    