"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze-image/route";
exports.ids = ["app/api/analyze-image/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-image%2Froute&page=%2Fapi%2Fanalyze-image%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-image%2Froute.ts&appDir=C%3A%5CUsers%5Copton%5CDownloads%5Cpinterest_parser-main%5Cweb-interface%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Copton%5CDownloads%5Cpinterest_parser-main%5Cweb-interface&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-image%2Froute&page=%2Fapi%2Fanalyze-image%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-image%2Froute.ts&appDir=C%3A%5CUsers%5Copton%5CDownloads%5Cpinterest_parser-main%5Cweb-interface%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Copton%5CDownloads%5Cpinterest_parser-main%5Cweb-interface&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_opton_Downloads_pinterest_parser_main_web_interface_src_app_api_analyze_image_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/analyze-image/route.ts */ \"(rsc)/./src/app/api/analyze-image/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze-image/route\",\n        pathname: \"/api/analyze-image\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze-image/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\opton\\\\Downloads\\\\pinterest_parser-main\\\\web-interface\\\\src\\\\app\\\\api\\\\analyze-image\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_opton_Downloads_pinterest_parser_main_web_interface_src_app_api_analyze_image_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/analyze-image/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplLWltYWdlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplLWltYWdlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZS1pbWFnZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNvcHRvbiU1Q0Rvd25sb2FkcyU1Q3BpbnRlcmVzdF9wYXJzZXItbWFpbiU1Q3dlYi1pbnRlcmZhY2UlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q29wdG9uJTVDRG93bmxvYWRzJTVDcGludGVyZXN0X3BhcnNlci1tYWluJTVDd2ViLWludGVyZmFjZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDeUQ7QUFDdEk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW5rLXN0YXRlbWVudC1hbmFseXplci8/MTQzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxvcHRvblxcXFxEb3dubG9hZHNcXFxccGludGVyZXN0X3BhcnNlci1tYWluXFxcXHdlYi1pbnRlcmZhY2VcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYW5hbHl6ZS1pbWFnZVxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYW5hbHl6ZS1pbWFnZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FuYWx5emUtaW1hZ2VcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FuYWx5emUtaW1hZ2Uvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxvcHRvblxcXFxEb3dubG9hZHNcXFxccGludGVyZXN0X3BhcnNlci1tYWluXFxcXHdlYi1pbnRlcmZhY2VcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYW5hbHl6ZS1pbWFnZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYW5hbHl6ZS1pbWFnZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-image%2Froute&page=%2Fapi%2Fanalyze-image%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-image%2Froute.ts&appDir=C%3A%5CUsers%5Copton%5CDownloads%5Cpinterest_parser-main%5Cweb-interface%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Copton%5CDownloads%5Cpinterest_parser-main%5Cweb-interface&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/analyze-image/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/analyze-image/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n\n\n\n\n\n\n// Путь к Python API\nconst PYTHON_API_URL = process.env.PYTHON_API_URL || \"http://localhost:8000\";\n// Проверка доступности Python API\nasync function checkApiAvailability() {\n    try {\n        const response = await fetch(`${PYTHON_API_URL}/health`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            signal: AbortSignal.timeout(3000) // Таймаут 3 секунды\n        });\n        return response.ok;\n    } catch (error) {\n        console.error(\"Ошибка при проверке доступности API:\", error);\n        return false;\n    }\n}\nasync function POST(request) {\n    try {\n        // Проверяем доступность Python API\n        const isApiAvailable = await checkApiAvailability();\n        console.log(`Python API доступен: ${isApiAvailable}`);\n        // Получаем FormData из запроса\n        const formData = await request.formData();\n        const file = formData.get(\"file\");\n        if (!file) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Файл не найден\"\n            }, {\n                status: 400\n            });\n        }\n        // Проверяем тип файла\n        if (!file.type.startsWith(\"image/\")) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Пожалуйста, загрузите изображение\"\n            }, {\n                status: 400\n            });\n        }\n        // Создаем директорию для загрузок, если она не существует\n        const uploadDir = (0,path__WEBPACK_IMPORTED_MODULE_1__.join)(process.cwd(), \"public\", \"uploads\");\n        try {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_2__.access)(uploadDir);\n        } catch  {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_2__.mkdir)(uploadDir, {\n                recursive: true\n            });\n        }\n        // Создаем уникальное имя файла\n        const fileExt = path__WEBPACK_IMPORTED_MODULE_1___default().extname(file.name) || \".jpg\";\n        const filename = `${(0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])()}${fileExt}`;\n        const filepath = (0,path__WEBPACK_IMPORTED_MODULE_1__.join)(uploadDir, filename);\n        try {\n            // Читаем содержимое файла\n            const bytes = await file.arrayBuffer();\n            const buffer = Buffer.from(bytes);\n            // Сохраняем файл локально\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_2__.writeFile)(filepath, buffer);\n            // URL файла для использования во фронтенде\n            const fileUrl = `/uploads/${filename}`;\n            try {\n                // Если API недоступен, сразу возвращаем заглушку с предупреждением\n                if (!isApiAvailable) {\n                    console.error(\"Python API недоступен, возвращаем тестовые данные\");\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        ...getMockAnalysisResponse(fileUrl),\n                        imageUrl: fileUrl,\n                        error: \"Python API недоступен. Возможно, сервер не запущен или запущен не на порту 8000. Возвращены тестовые данные.\"\n                    });\n                }\n                // Создаем новый FormData для отправки в Python API\n                const pythonApiFormData = new FormData();\n                // В Python API ожидается файл с именем 'file'\n                pythonApiFormData.append(\"file\", new Blob([\n                    buffer\n                ], {\n                    type: file.type\n                }), filename);\n                console.log(`Отправляем запрос к Python API: ${PYTHON_API_URL}/analyze-image`);\n                // Пытаемся отправить запрос на анализ изображения в Python API\n                const pythonApiResponse = await fetch(`${PYTHON_API_URL}/analyze-image`, {\n                    method: \"POST\",\n                    body: pythonApiFormData\n                });\n                if (pythonApiResponse.ok) {\n                    // Если успешно получили ответ от Python API\n                    const analysisData = await pythonApiResponse.json();\n                    console.log(\"Ответ от Python API:\", analysisData);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        items: parseClothingItemsFromAnalysis(analysisData),\n                        fullDescription: analysisData.analysis || \"\",\n                        imageUrl: fileUrl\n                    });\n                } else {\n                    const errorText = await pythonApiResponse.text();\n                    console.error(`Ошибка Python API: ${pythonApiResponse.status} ${pythonApiResponse.statusText}`, errorText);\n                    // Если не удалось получить ответ от Python API, используем моковые данные\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        ...getMockAnalysisResponse(fileUrl),\n                        imageUrl: fileUrl,\n                        error: `Не удалось подключиться к серверу анализа изображений: ${pythonApiResponse.status} ${pythonApiResponse.statusText}. Возвращены тестовые данные.`\n                    });\n                }\n            } catch (error) {\n                console.error(\"Ошибка при обращении к Python API:\", error);\n                // В случае ошибки вызова Python API возвращаем моковые данные\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ...getMockAnalysisResponse(fileUrl),\n                    imageUrl: fileUrl,\n                    error: `Не удалось подключиться к серверу анализа изображений: ${error.message}. Возвращены тестовые данные.`\n                });\n            }\n        } catch (error) {\n            console.error(\"Ошибка при сохранении файла:\", error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Ошибка при обработке файла\"\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Ошибка при обработке запроса:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Внутренняя ошибка сервера\"\n        }, {\n            status: 500\n        });\n    }\n}\n// Функция для разбора ответа от Python API и преобразования в формат ClothingRecognitionData\nfunction parseClothingItemsFromAnalysis(analysisData) {\n    // Если API вернул уже правильно отформатированные данные\n    if (analysisData.elements && Array.isArray(analysisData.elements)) {\n        return analysisData.elements.map((item)=>({\n                type: item.type || item.name || \"Предмет одежды\",\n                color: item.color || \"неизвестный\",\n                description: item.description || \"\",\n                material: item.material,\n                pattern: item.pattern,\n                gender: item.gender\n            }));\n    }\n    // Если API вернул данные в поле 'analysis'\n    if (analysisData.analysis) {\n        console.log(\"Получен анализ текста:\", analysisData.analysis);\n    }\n    // Если API вернул данные в нестандартной структуре, проверяем все возможные поля\n    const possibleDataFields = [\n        \"data\",\n        \"result\",\n        \"results\",\n        \"items\",\n        \"clothing_items\"\n    ];\n    for (const field of possibleDataFields){\n        if (analysisData[field] && (Array.isArray(analysisData[field]) || typeof analysisData[field] === \"object\")) {\n            console.log(`Найдены данные в поле ${field}:`, analysisData[field]);\n            if (Array.isArray(analysisData[field])) {\n                return analysisData[field].map((item)=>({\n                        type: item.type || item.name || \"Предмет одежды\",\n                        color: item.color || \"неизвестный\",\n                        description: item.description || \"\",\n                        material: item.material,\n                        pattern: item.pattern,\n                        gender: item.gender\n                    }));\n            }\n        }\n    }\n    // Если API вернул анализ в текстовом формате, пытаемся извлечь информацию о предметах одежды\n    const analysisText = analysisData.analysis || analysisData.description || \"\";\n    if (!analysisText) {\n        console.log(\"Нет текстового анализа, возвращаем моковые данные\");\n        return getMockAnalysisResponse().items;\n    }\n    // Пытаемся извлечь элементы одежды из текста\n    const clothingItems = [];\n    // Ищем упоминания предметов одежды в тексте\n    const commonClothingItems = [\n        \"футболка\",\n        \"рубашка\",\n        \"блузка\",\n        \"платье\",\n        \"юбка\",\n        \"брюки\",\n        \"джинсы\",\n        \"шорты\",\n        \"куртка\",\n        \"пальто\",\n        \"свитер\",\n        \"кардиган\",\n        \"худи\",\n        \"джемпер\",\n        \"кроссовки\",\n        \"туфли\",\n        \"ботинки\",\n        \"сапоги\",\n        \"кеды\",\n        \"шапка\",\n        \"шляпа\",\n        \"берет\",\n        \"кепка\",\n        \"шарф\",\n        \"перчатки\",\n        \"носки\",\n        \"колготки\",\n        \"белье\",\n        \"костюм\",\n        \"пиджак\",\n        \"жакет\",\n        \"блейзер\"\n    ];\n    // Ищем цвета\n    const commonColors = [\n        \"белый\",\n        \"черный\",\n        \"красный\",\n        \"синий\",\n        \"зеленый\",\n        \"желтый\",\n        \"оранжевый\",\n        \"фиолетовый\",\n        \"розовый\",\n        \"коричневый\",\n        \"серый\",\n        \"бежевый\",\n        \"голубой\"\n    ];\n    // Ищем материалы\n    const commonMaterials = [\n        \"хлопок\",\n        \"лен\",\n        \"шерсть\",\n        \"кожа\",\n        \"замша\",\n        \"шелк\",\n        \"деним\",\n        \"полиэстер\",\n        \"нейлон\",\n        \"трикотаж\",\n        \"вискоза\",\n        \"акрил\",\n        \"вельвет\",\n        \"твид\",\n        \"кашемир\"\n    ];\n    console.log(\"Анализируем текст:\", analysisText);\n    // Для каждого предмета одежды проверяем, упоминается ли он в тексте\n    for (const item of commonClothingItems){\n        const regex = new RegExp(`\\\\b${item}\\\\b`, \"i\");\n        if (regex.test(analysisText.toLowerCase())) {\n            console.log(`Найден предмет: ${item}`);\n            // Если предмет найден, пытаемся найти его цвет\n            let color = \"неизвестный\";\n            for (const c of commonColors){\n                const colorRegex = new RegExp(`\\\\b${c}\\\\w*\\\\s+${item}\\\\b|\\\\b${item}\\\\s+${c}\\\\w*\\\\b`, \"i\");\n                if (colorRegex.test(analysisText.toLowerCase())) {\n                    color = c;\n                    console.log(`  Найден цвет: ${color}`);\n                    break;\n                }\n            }\n            // Пытаемся найти материал\n            let material;\n            for (const m of commonMaterials){\n                const materialRegex = new RegExp(`\\\\b${m}\\\\w*\\\\s+${item}\\\\b|\\\\b${item}\\\\s+из\\\\s+${m}\\\\w*\\\\b|\\\\b${m}\\\\w*\\\\s+${item}\\\\b`, \"i\");\n                if (materialRegex.test(analysisText.toLowerCase())) {\n                    material = m;\n                    console.log(`  Найден материал: ${material}`);\n                    break;\n                }\n            }\n            clothingItems.push({\n                type: item.charAt(0).toUpperCase() + item.slice(1),\n                color,\n                description: \"\",\n                ...material && {\n                    material\n                },\n                gender: determineGender(analysisText, item)\n            });\n        }\n    }\n    if (clothingItems.length > 0) {\n        console.log(\"Найдены предметы одежды:\", clothingItems);\n        return clothingItems;\n    } else {\n        console.log(\"Не удалось распознать предметы одежды в тексте, возвращаем моковые данные\");\n        return getMockAnalysisResponse().items;\n    }\n}\n// Заглушка для тестирования, используется когда нет доступа к Python API\nfunction getMockAnalysisResponse(imageUrl) {\n    return {\n        items: [\n            {\n                type: \"Футболка\",\n                color: \"белая\",\n                description: \"хлопковая с круглым вырезом\",\n                material: \"хлопок\",\n                gender: \"женский\"\n            },\n            {\n                type: \"Джинсы\",\n                color: \"синие\",\n                description: \"классические прямого кроя\",\n                material: \"деним\",\n                gender: \"женский\"\n            }\n        ],\n        fullDescription: \"На изображении представлен повседневный комплект, состоящий из белой хлопковой футболки с круглым вырезом и классических прямых синих джинсов.\"\n    };\n}\n// Функция для определения пола из текста анализа\nfunction determineGender(text, itemName) {\n    // Ищем явное указание пола для всего образа\n    const generalGenderMatch = text.match(/ПОЛ:\\s*(мужской|женский|унисекс)/i);\n    let generalGender = generalGenderMatch ? generalGenderMatch[1].toLowerCase() : undefined;\n    // Ищем указание пола для конкретного предмета\n    const itemGenderRegex = new RegExp(`(${itemName}).*?пол:\\\\s*(мужской|женский|унисекс)`, \"i\");\n    const itemGenderMatch = text.match(itemGenderRegex);\n    // Возвращаем пол для конкретного предмета, если найден, иначе общий пол\n    return itemGenderMatch ? itemGenderMatch[2].toLowerCase() : generalGender;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hbmFseXplLWltYWdlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0Q7QUFDNUI7QUFDWTtBQUNKO0FBQ1E7QUFDcEI7QUFleEIsb0JBQW9CO0FBQ3BCLE1BQU1RLGlCQUFpQkMsUUFBUUMsR0FBRyxDQUFDRixjQUFjLElBQUk7QUFFckQsa0NBQWtDO0FBQ2xDLGVBQWVHO0lBQ2IsSUFBSTtRQUNGLE1BQU1DLFdBQVcsTUFBTUMsTUFBTSxDQUFDLEVBQUVMLGVBQWUsT0FBTyxDQUFDLEVBQUU7WUFDdkRNLFFBQVE7WUFDUkMsU0FBUztnQkFBRSxnQkFBZ0I7WUFBbUI7WUFDOUNDLFFBQVFDLFlBQVlDLE9BQU8sQ0FBQyxNQUFNLG9CQUFvQjtRQUN4RDtRQUNBLE9BQU9OLFNBQVNPLEVBQUU7SUFDcEIsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx3Q0FBd0NBO1FBQ3RELE9BQU87SUFDVDtBQUNGO0FBRU8sZUFBZUUsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLG1DQUFtQztRQUNuQyxNQUFNQyxpQkFBaUIsTUFBTWI7UUFDN0JVLFFBQVFJLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQixFQUFFRCxlQUFlLENBQUM7UUFFcEQsK0JBQStCO1FBQy9CLE1BQU1FLFdBQVcsTUFBTUgsUUFBUUcsUUFBUTtRQUN2QyxNQUFNQyxPQUFPRCxTQUFTRSxHQUFHLENBQUM7UUFFMUIsSUFBSSxDQUFDRCxNQUFNO1lBQ1QsT0FBTzNCLHFEQUFZQSxDQUFDNkIsSUFBSSxDQUN0QjtnQkFBRVQsT0FBTztZQUFpQixHQUMxQjtnQkFBRVUsUUFBUTtZQUFJO1FBRWxCO1FBRUEsc0JBQXNCO1FBQ3RCLElBQUksQ0FBQ0gsS0FBS0ksSUFBSSxDQUFDQyxVQUFVLENBQUMsV0FBVztZQUNuQyxPQUFPaEMscURBQVlBLENBQUM2QixJQUFJLENBQ3RCO2dCQUFFVCxPQUFPO1lBQW9DLEdBQzdDO2dCQUFFVSxRQUFR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QUFNQyxrQkFBa0IsSUFBSWxCLE9BQU8sQ0FBQyxDQUFDLEVBQUVhLFNBQVMscUNBQXFDLENBQUMsRUFBRTtJQUN4RixNQUFNTSxrQkFBa0J4QyxLQUFLb0MsS0FBSyxDQUFDRztJQUVuQyx3RUFBd0U7SUFDeEUsT0FBT0Msa0JBQWtCQSxlQUFlLENBQUMsRUFBRSxDQUFDakIsV0FBVyxLQUFLYztBQUM5RCIsInNvdXJjZXMiOlsid2VicGFjazovL2Jhbmstc3RhdGVtZW50LWFuYWx5emVyLy4vc3JjL2FwcC9hcGkvYW5hbHl6ZS1pbWFnZS9yb3V0ZS50cz9jMmE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XG5pbXBvcnQgeyB3cml0ZUZpbGUgfSBmcm9tICdmcy9wcm9taXNlcyc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IG1rZGlyLCBhY2Nlc3MgfSBmcm9tICdmcy9wcm9taXNlcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuLy8g0KLQuNC/INC+0YLQstC10YLQsCDQvtGCIEFJINC90LAg0LDQvdCw0LvQuNC3INC40LfQvtCx0YDQsNC20LXQvdC40Y9cbmludGVyZmFjZSBDbG90aGluZ1JlY29nbml0aW9uRGF0YSB7XG4gIGl0ZW1zOiBBcnJheTx7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgY29sb3I6IHN0cmluZztcbiAgICBwYXR0ZXJuPzogc3RyaW5nO1xuICAgIG1hdGVyaWFsPzogc3RyaW5nO1xuICAgIGdlbmRlcj86IHN0cmluZztcbiAgfT47XG4gIGZ1bGxEZXNjcmlwdGlvbjogc3RyaW5nO1xufVxuXG4vLyDQn9GD0YLRjCDQuiBQeXRob24gQVBJXG5jb25zdCBQWVRIT05fQVBJX1VSTCA9IHByb2Nlc3MuZW52LlBZVEhPTl9BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjgwMDAnO1xuXG4vLyDQn9GA0L7QstC10YDQutCwINC00L7RgdGC0YPQv9C90L7RgdGC0LggUHl0aG9uIEFQSVxuYXN5bmMgZnVuY3Rpb24gY2hlY2tBcGlBdmFpbGFiaWxpdHkoKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtQWVRIT05fQVBJX1VSTH0vaGVhbHRoYCwgeyBcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCgzMDAwKSAvLyDQotCw0LnQvNCw0YPRgiAzINGB0LXQutGD0L3QtNGLXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLm9rO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L/RgNC+0LLQtdGA0LrQtSDQtNC+0YHRgtGD0L/QvdC+0YHRgtC4IEFQSTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC00L7RgdGC0YPQv9C90L7RgdGC0YwgUHl0aG9uIEFQSVxuICAgIGNvbnN0IGlzQXBpQXZhaWxhYmxlID0gYXdhaXQgY2hlY2tBcGlBdmFpbGFiaWxpdHkoKTtcbiAgICBjb25zb2xlLmxvZyhgUHl0aG9uIEFQSSDQtNC+0YHRgtGD0L/QtdC9OiAke2lzQXBpQXZhaWxhYmxlfWApO1xuICAgIFxuICAgIC8vINCf0L7Qu9GD0YfQsNC10LwgRm9ybURhdGEg0LjQtyDQt9Cw0L/RgNC+0YHQsFxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xuICAgIGNvbnN0IGZpbGUgPSBmb3JtRGF0YS5nZXQoJ2ZpbGUnKSBhcyBGaWxlIHwgbnVsbDtcblxuICAgIGlmICghZmlsZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAn0KTQsNC50Lsg0L3QtSDQvdCw0LnQtNC10L0nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0YLQuNC/INGE0LDQudC70LBcbiAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAn0J/QvtC20LDQu9GD0LnRgdGC0LAsINC30LDQs9GA0YPQt9C40YLQtSDQuNC30L7QsdGA0LDQttC10L3QuNC1JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8g0KHQvtC30LTQsNC10Lwg0LTQuNGA0LXQutGC0L7RgNC40Y4g0LTQu9GPINC30LDQs9GA0YPQt9C+0LosINC10YHQu9C4INC+0L3QsCDQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCXG4gICAgY29uc3QgdXBsb2FkRGlyID0gam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ3VwbG9hZHMnKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYWNjZXNzKHVwbG9hZERpcik7XG4gICAgfSBjYXRjaCB7XG4gICAgICBhd2FpdCBta2Rpcih1cGxvYWREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIC8vINCh0L7Qt9C00LDQtdC8INGD0L3QuNC60LDQu9GM0L3QvtC1INC40LzRjyDRhNCw0LnQu9CwXG4gICAgY29uc3QgZmlsZUV4dCA9IHBhdGguZXh0bmFtZShmaWxlLm5hbWUpIHx8ICcuanBnJztcbiAgICBjb25zdCBmaWxlbmFtZSA9IGAke3V1aWR2NCgpfSR7ZmlsZUV4dH1gO1xuICAgIGNvbnN0IGZpbGVwYXRoID0gam9pbih1cGxvYWREaXIsIGZpbGVuYW1lKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyDQp9C40YLQsNC10Lwg0YHQvtC00LXRgNC20LjQvNC+0LUg0YTQsNC50LvQsFxuICAgICAgY29uc3QgYnl0ZXMgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCk7XG4gICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShieXRlcyk7XG5cbiAgICAgIC8vINCh0L7RhdGA0LDQvdGP0LXQvCDRhNCw0LnQuyDQu9C+0LrQsNC70YzQvdC+XG4gICAgICBhd2FpdCB3cml0ZUZpbGUoZmlsZXBhdGgsIGJ1ZmZlcik7XG5cbiAgICAgIC8vIFVSTCDRhNCw0LnQu9CwINC00LvRjyDQuNGB0L/QvtC70YzQt9C+0LLQsNC90LjRjyDQstC+INGE0YDQvtC90YLQtdC90LTQtVxuICAgICAgY29uc3QgZmlsZVVybCA9IGAvdXBsb2Fkcy8ke2ZpbGVuYW1lfWA7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vINCV0YHQu9C4IEFQSSDQvdC10LTQvtGB0YLRg9C/0LXQvSwg0YHRgNCw0LfRgyDQstC+0LfQstGA0LDRidCw0LXQvCDQt9Cw0LPQu9GD0YjQutGDINGBINC/0YDQtdC00YPQv9GA0LXQttC00LXQvdC40LXQvFxuICAgICAgICBpZiAoIWlzQXBpQXZhaWxhYmxlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignUHl0aG9uIEFQSSDQvdC10LTQvtGB0YLRg9C/0LXQvSwg0LLQvtC30LLRgNCw0YnQsNC10Lwg0YLQtdGB0YLQvtCy0YvQtSDQtNCw0L3QvdGL0LUnKTtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgLi4uZ2V0TW9ja0FuYWx5c2lzUmVzcG9uc2UoZmlsZVVybCksXG4gICAgICAgICAgICBpbWFnZVVybDogZmlsZVVybCxcbiAgICAgICAgICAgIGVycm9yOiAnUHl0aG9uIEFQSSDQvdC10LTQvtGB0YLRg9C/0LXQvS4g0JLQvtC30LzQvtC20L3Qviwg0YHQtdGA0LLQtdGAINC90LUg0LfQsNC/0YPRidC10L0g0LjQu9C4INC30LDQv9GD0YnQtdC9INC90LUg0L3QsCDQv9C+0YDRgtGDIDgwMDAuINCS0L7Qt9Cy0YDQsNGJ0LXQvdGLINGC0LXRgdGC0L7QstGL0LUg0LTQsNC90L3Ri9C1LidcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8g0KHQvtC30LTQsNC10Lwg0L3QvtCy0YvQuSBGb3JtRGF0YSDQtNC70Y8g0L7RgtC/0YDQsNCy0LrQuCDQsiBQeXRob24gQVBJXG4gICAgICAgIGNvbnN0IHB5dGhvbkFwaUZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIFxuICAgICAgICAvLyDQkiBQeXRob24gQVBJINC+0LbQuNC00LDQtdGC0YHRjyDRhNCw0LnQuyDRgSDQuNC80LXQvdC10LwgJ2ZpbGUnXG4gICAgICAgIHB5dGhvbkFwaUZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIG5ldyBCbG9iKFtidWZmZXJdLCB7IHR5cGU6IGZpbGUudHlwZSB9KSwgZmlsZW5hbWUpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYNCe0YLQv9GA0LDQstC70Y/QtdC8INC30LDQv9GA0L7RgSDQuiBQeXRob24gQVBJOiAke1BZVEhPTl9BUElfVVJMfS9hbmFseXplLWltYWdlYCk7XG4gICAgICAgIFxuICAgICAgICAvLyDQn9GL0YLQsNC10LzRgdGPINC+0YLQv9GA0LDQstC40YLRjCDQt9Cw0L/RgNC+0YEg0L3QsCDQsNC90LDQu9C40Lcg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyDQsiBQeXRob24gQVBJXG4gICAgICAgIGNvbnN0IHB5dGhvbkFwaVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7UFlUSE9OX0FQSV9VUkx9L2FuYWx5emUtaW1hZ2VgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgYm9keTogcHl0aG9uQXBpRm9ybURhdGEsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChweXRob25BcGlSZXNwb25zZS5vaykge1xuICAgICAgICAgIC8vINCV0YHQu9C4INGD0YHQv9C10YjQvdC+INC/0L7Qu9GD0YfQuNC70Lgg0L7RgtCy0LXRgiDQvtGCIFB5dGhvbiBBUElcbiAgICAgICAgICBjb25zdCBhbmFseXNpc0RhdGEgPSBhd2FpdCBweXRob25BcGlSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ9Ce0YLQstC10YIg0L7RgiBQeXRob24gQVBJOicsIGFuYWx5c2lzRGF0YSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIGl0ZW1zOiBwYXJzZUNsb3RoaW5nSXRlbXNGcm9tQW5hbHlzaXMoYW5hbHlzaXNEYXRhKSxcbiAgICAgICAgICAgIGZ1bGxEZXNjcmlwdGlvbjogYW5hbHlzaXNEYXRhLmFuYWx5c2lzIHx8ICcnLFxuICAgICAgICAgICAgaW1hZ2VVcmw6IGZpbGVVcmxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCBweXRob25BcGlSZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihg0J7RiNC40LHQutCwIFB5dGhvbiBBUEk6ICR7cHl0aG9uQXBpUmVzcG9uc2Uuc3RhdHVzfSAke3B5dGhvbkFwaVJlc3BvbnNlLnN0YXR1c1RleHR9YCwgZXJyb3JUZXh0KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDQldGB0LvQuCDQvdC1INGD0LTQsNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0Ywg0L7RgtCy0LXRgiDQvtGCIFB5dGhvbiBBUEksINC40YHQv9C+0LvRjNC30YPQtdC8INC80L7QutC+0LLRi9C1INC00LDQvdC90YvQtVxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICAuLi5nZXRNb2NrQW5hbHlzaXNSZXNwb25zZShmaWxlVXJsKSxcbiAgICAgICAgICAgIGltYWdlVXJsOiBmaWxlVXJsLFxuICAgICAgICAgICAgZXJyb3I6IGDQndC1INGD0LTQsNC70L7RgdGMINC/0L7QtNC60LvRjtGH0LjRgtGM0YHRjyDQuiDRgdC10YDQstC10YDRgyDQsNC90LDQu9C40LfQsCDQuNC30L7QsdGA0LDQttC10L3QuNC5OiAke3B5dGhvbkFwaVJlc3BvbnNlLnN0YXR1c30gJHtweXRob25BcGlSZXNwb25zZS5zdGF0dXNUZXh0fS4g0JLQvtC30LLRgNCw0YnQtdC90Ysg0YLQtdGB0YLQvtCy0YvQtSDQtNCw0L3QvdGL0LUuYFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LAg0L/RgNC4INC+0LHRgNCw0YnQtdC90LjQuCDQuiBQeXRob24gQVBJOicsIGVycm9yKTtcbiAgICAgICAgLy8g0JIg0YHQu9GD0YfQsNC1INC+0YjQuNCx0LrQuCDQstGL0LfQvtCy0LAgUHl0aG9uIEFQSSDQstC+0LfQstGA0LDRidCw0LXQvCDQvNC+0LrQvtCy0YvQtSDQtNCw0L3QvdGL0LVcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAuLi5nZXRNb2NrQW5hbHlzaXNSZXNwb25zZShmaWxlVXJsKSxcbiAgICAgICAgICBpbWFnZVVybDogZmlsZVVybCxcbiAgICAgICAgICBlcnJvcjogYNCd0LUg0YPQtNCw0LvQvtGB0Ywg0L/QvtC00LrQu9GO0YfQuNGC0YzRgdGPINC6INGB0LXRgNCy0LXRgNGDINCw0L3QsNC70LjQt9CwINC40LfQvtCx0YDQsNC20LXQvdC40Lk6ICR7ZXJyb3IubWVzc2FnZX0uINCS0L7Qt9Cy0YDQsNGJ0LXQvdGLINGC0LXRgdGC0L7QstGL0LUg0LTQsNC90L3Ri9C1LmBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0YHQvtGF0YDQsNC90LXQvdC40Lgg0YTQsNC50LvQsDonLCBlcnJvcik7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfQntGI0LjQsdC60LAg0L/RgNC4INC+0LHRgNCw0LHQvtGC0LrQtSDRhNCw0LnQu9CwJyB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L7QsdGA0LDQsdC+0YLQutC1INC30LDQv9GA0L7RgdCwOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAn0JLQvdGD0YLRgNC10L3QvdGP0Y8g0L7RiNC40LHQutCwINGB0LXRgNCy0LXRgNCwJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyDQpNGD0L3QutGG0LjRjyDQtNC70Y8g0YDQsNC30LHQvtGA0LAg0L7RgtCy0LXRgtCwINC+0YIgUHl0aG9uIEFQSSDQuCDQv9GA0LXQvtCx0YDQsNC30L7QstCw0L3QuNGPINCyINGE0L7RgNC80LDRgiBDbG90aGluZ1JlY29nbml0aW9uRGF0YVxuZnVuY3Rpb24gcGFyc2VDbG90aGluZ0l0ZW1zRnJvbUFuYWx5c2lzKGFuYWx5c2lzRGF0YTogYW55KTogQ2xvdGhpbmdSZWNvZ25pdGlvbkRhdGFbJ2l0ZW1zJ10ge1xuICAvLyDQldGB0LvQuCBBUEkg0LLQtdGA0L3Rg9C7INGD0LbQtSDQv9GA0LDQstC40LvRjNC90L4g0L7RgtGE0L7RgNC80LDRgtC40YDQvtCy0LDQvdC90YvQtSDQtNCw0L3QvdGL0LVcbiAgaWYgKGFuYWx5c2lzRGF0YS5lbGVtZW50cyAmJiBBcnJheS5pc0FycmF5KGFuYWx5c2lzRGF0YS5lbGVtZW50cykpIHtcbiAgICByZXR1cm4gYW5hbHlzaXNEYXRhLmVsZW1lbnRzLm1hcCgoaXRlbTogYW55KSA9PiAoe1xuICAgICAgdHlwZTogaXRlbS50eXBlIHx8IGl0ZW0ubmFtZSB8fCAn0J/RgNC10LTQvNC10YIg0L7QtNC10LbQtNGLJyxcbiAgICAgIGNvbG9yOiBpdGVtLmNvbG9yIHx8ICfQvdC10LjQt9Cy0LXRgdGC0L3Ri9C5JyxcbiAgICAgIGRlc2NyaXB0aW9uOiBpdGVtLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgbWF0ZXJpYWw6IGl0ZW0ubWF0ZXJpYWwsXG4gICAgICBwYXR0ZXJuOiBpdGVtLnBhdHRlcm4sXG4gICAgICBnZW5kZXI6IGl0ZW0uZ2VuZGVyXG4gICAgfSkpO1xuICB9XG5cbiAgLy8g0JXRgdC70LggQVBJINCy0LXRgNC90YPQuyDQtNCw0L3QvdGL0LUg0LIg0L/QvtC70LUgJ2FuYWx5c2lzJ1xuICBpZiAoYW5hbHlzaXNEYXRhLmFuYWx5c2lzKSB7XG4gICAgY29uc29sZS5sb2coJ9Cf0L7Qu9GD0YfQtdC9INCw0L3QsNC70LjQtyDRgtC10LrRgdGC0LA6JywgYW5hbHlzaXNEYXRhLmFuYWx5c2lzKTtcbiAgfVxuICBcbiAgLy8g0JXRgdC70LggQVBJINCy0LXRgNC90YPQuyDQtNCw0L3QvdGL0LUg0LIg0L3QtdGB0YLQsNC90LTQsNGA0YLQvdC+0Lkg0YHRgtGA0YPQutGC0YPRgNC1LCDQv9GA0L7QstC10YDRj9C10Lwg0LLRgdC1INCy0L7Qt9C80L7QttC90YvQtSDQv9C+0LvRj1xuICBjb25zdCBwb3NzaWJsZURhdGFGaWVsZHMgPSBbJ2RhdGEnLCAncmVzdWx0JywgJ3Jlc3VsdHMnLCAnaXRlbXMnLCAnY2xvdGhpbmdfaXRlbXMnXTtcbiAgZm9yIChjb25zdCBmaWVsZCBvZiBwb3NzaWJsZURhdGFGaWVsZHMpIHtcbiAgICBpZiAoYW5hbHlzaXNEYXRhW2ZpZWxkXSAmJiAoQXJyYXkuaXNBcnJheShhbmFseXNpc0RhdGFbZmllbGRdKSB8fCB0eXBlb2YgYW5hbHlzaXNEYXRhW2ZpZWxkXSA9PT0gJ29iamVjdCcpKSB7XG4gICAgICBjb25zb2xlLmxvZyhg0J3QsNC50LTQtdC90Ysg0LTQsNC90L3Ri9C1INCyINC/0L7Qu9C1ICR7ZmllbGR9OmAsIGFuYWx5c2lzRGF0YVtmaWVsZF0pO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYW5hbHlzaXNEYXRhW2ZpZWxkXSkpIHtcbiAgICAgICAgcmV0dXJuIGFuYWx5c2lzRGF0YVtmaWVsZF0ubWFwKChpdGVtOiBhbnkpID0+ICh7XG4gICAgICAgICAgdHlwZTogaXRlbS50eXBlIHx8IGl0ZW0ubmFtZSB8fCAn0J/RgNC10LTQvNC10YIg0L7QtNC10LbQtNGLJyxcbiAgICAgICAgICBjb2xvcjogaXRlbS5jb2xvciB8fCAn0L3QtdC40LfQstC10YHRgtC90YvQuScsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGl0ZW0uZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgbWF0ZXJpYWw6IGl0ZW0ubWF0ZXJpYWwsXG4gICAgICAgICAgcGF0dGVybjogaXRlbS5wYXR0ZXJuLFxuICAgICAgICAgIGdlbmRlcjogaXRlbS5nZW5kZXJcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vINCV0YHQu9C4IEFQSSDQstC10YDQvdGD0Lsg0LDQvdCw0LvQuNC3INCyINGC0LXQutGB0YLQvtCy0L7QvCDRhNC+0YDQvNCw0YLQtSwg0L/Ri9GC0LDQtdC80YHRjyDQuNC30LLQu9C10YfRjCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQv9GA0LXQtNC80LXRgtCw0YUg0L7QtNC10LbQtNGLXG4gIGNvbnN0IGFuYWx5c2lzVGV4dCA9IGFuYWx5c2lzRGF0YS5hbmFseXNpcyB8fCBhbmFseXNpc0RhdGEuZGVzY3JpcHRpb24gfHwgJyc7XG4gIFxuICBpZiAoIWFuYWx5c2lzVGV4dCkge1xuICAgIGNvbnNvbGUubG9nKCfQndC10YIg0YLQtdC60YHRgtC+0LLQvtCz0L4g0LDQvdCw0LvQuNC30LAsINCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC80L7QutC+0LLRi9C1INC00LDQvdC90YvQtScpO1xuICAgIHJldHVybiBnZXRNb2NrQW5hbHlzaXNSZXNwb25zZSgpLml0ZW1zO1xuICB9XG5cbiAgLy8g0J/Ri9GC0LDQtdC80YHRjyDQuNC30LLQu9C10YfRjCDRjdC70LXQvNC10L3RgtGLINC+0LTQtdC20LTRiyDQuNC3INGC0LXQutGB0YLQsFxuICBjb25zdCBjbG90aGluZ0l0ZW1zID0gW107XG4gIFxuICAvLyDQmNGJ0LXQvCDRg9C/0L7QvNC40L3QsNC90LjRjyDQv9GA0LXQtNC80LXRgtC+0LIg0L7QtNC10LbQtNGLINCyINGC0LXQutGB0YLQtVxuICBjb25zdCBjb21tb25DbG90aGluZ0l0ZW1zID0gW1xuICAgICfRhNGD0YLQsdC+0LvQutCwJywgJ9GA0YPQsdCw0YjQutCwJywgJ9Cx0LvRg9C30LrQsCcsICfQv9C70LDRgtGM0LUnLCAn0Y7QsdC60LAnLCAn0LHRgNGO0LrQuCcsICfQtNC20LjQvdGB0YsnLFxuICAgICfRiNC+0YDRgtGLJywgJ9C60YPRgNGC0LrQsCcsICfQv9Cw0LvRjNGC0L4nLCAn0YHQstC40YLQtdGAJywgJ9C60LDRgNC00LjQs9Cw0L0nLCAn0YXRg9C00LgnLCAn0LTQttC10LzQv9C10YAnLFxuICAgICfQutGA0L7RgdGB0L7QstC60LgnLCAn0YLRg9GE0LvQuCcsICfQsdC+0YLQuNC90LrQuCcsICfRgdCw0L/QvtCz0LgnLCAn0LrQtdC00YsnLCAn0YjQsNC/0LrQsCcsICfRiNC70Y/Qv9CwJyxcbiAgICAn0LHQtdGA0LXRgicsICfQutC10L/QutCwJywgJ9GI0LDRgNGEJywgJ9C/0LXRgNGH0LDRgtC60LgnLCAn0L3QvtGB0LrQuCcsICfQutC+0LvQs9C+0YLQutC4JywgJ9Cx0LXQu9GM0LUnLFxuICAgICfQutC+0YHRgtGO0LwnLCAn0L/QuNC00LbQsNC6JywgJ9C20LDQutC10YInLCAn0LHQu9C10LnQt9C10YAnXG4gIF07XG4gIFxuICAvLyDQmNGJ0LXQvCDRhtCy0LXRgtCwXG4gIGNvbnN0IGNvbW1vbkNvbG9ycyA9IFtcbiAgICAn0LHQtdC70YvQuScsICfRh9C10YDQvdGL0LknLCAn0LrRgNCw0YHQvdGL0LknLCAn0YHQuNC90LjQuScsICfQt9C10LvQtdC90YvQuScsICfQttC10LvRgtGL0LknLCAn0L7RgNCw0L3QttC10LLRi9C5JyxcbiAgICAn0YTQuNC+0LvQtdGC0L7QstGL0LknLCAn0YDQvtC30L7QstGL0LknLCAn0LrQvtGA0LjRh9C90LXQstGL0LknLCAn0YHQtdGA0YvQuScsICfQsdC10LbQtdCy0YvQuScsICfQs9C+0LvRg9Cx0L7QuSdcbiAgXTtcblxuICAvLyDQmNGJ0LXQvCDQvNCw0YLQtdGA0LjQsNC70YtcbiAgY29uc3QgY29tbW9uTWF0ZXJpYWxzID0gW1xuICAgICfRhdC70L7Qv9C+0LonLCAn0LvQtdC9JywgJ9GI0LXRgNGB0YLRjCcsICfQutC+0LbQsCcsICfQt9Cw0LzRiNCwJywgJ9GI0LXQu9C6JywgJ9C00LXQvdC40LwnLCAn0L/QvtC70LjRjdGB0YLQtdGAJyxcbiAgICAn0L3QtdC50LvQvtC9JywgJ9GC0YDQuNC60L7RgtCw0LYnLCAn0LLQuNGB0LrQvtC30LAnLCAn0LDQutGA0LjQuycsICfQstC10LvRjNCy0LXRgicsICfRgtCy0LjQtCcsICfQutCw0YjQtdC80LjRgCdcbiAgXTtcblxuICBjb25zb2xlLmxvZygn0JDQvdCw0LvQuNC30LjRgNGD0LXQvCDRgtC10LrRgdGCOicsIGFuYWx5c2lzVGV4dCk7XG5cbiAgLy8g0JTQu9GPINC60LDQttC00L7Qs9C+INC/0YDQtdC00LzQtdGC0LAg0L7QtNC10LbQtNGLINC/0YDQvtCy0LXRgNGP0LXQvCwg0YPQv9C+0LzQuNC90LDQtdGC0YHRjyDQu9C4INC+0L0g0LIg0YLQtdC60YHRgtC1XG4gIGZvciAoY29uc3QgaXRlbSBvZiBjb21tb25DbG90aGluZ0l0ZW1zKSB7XG4gICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKGBcXFxcYiR7aXRlbX1cXFxcYmAsICdpJyk7XG4gICAgaWYgKHJlZ2V4LnRlc3QoYW5hbHlzaXNUZXh0LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICBjb25zb2xlLmxvZyhg0J3QsNC50LTQtdC9INC/0YDQtdC00LzQtdGCOiAke2l0ZW19YCk7XG4gICAgICBcbiAgICAgIC8vINCV0YHQu9C4INC/0YDQtdC00LzQtdGCINC90LDQudC00LXQvSwg0L/Ri9GC0LDQtdC80YHRjyDQvdCw0LnRgtC4INC10LPQviDRhtCy0LXRglxuICAgICAgbGV0IGNvbG9yID0gJ9C90LXQuNC30LLQtdGB0YLQvdGL0LknO1xuICAgICAgZm9yIChjb25zdCBjIG9mIGNvbW1vbkNvbG9ycykge1xuICAgICAgICBjb25zdCBjb2xvclJlZ2V4ID0gbmV3IFJlZ0V4cChgXFxcXGIke2N9XFxcXHcqXFxcXHMrJHtpdGVtfVxcXFxifFxcXFxiJHtpdGVtfVxcXFxzKyR7Y31cXFxcdypcXFxcYmAsICdpJyk7XG4gICAgICAgIGlmIChjb2xvclJlZ2V4LnRlc3QoYW5hbHlzaXNUZXh0LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgY29sb3IgPSBjO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGAgINCd0LDQudC00LXQvSDRhtCy0LXRgjogJHtjb2xvcn1gKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDQn9GL0YLQsNC10LzRgdGPINC90LDQudGC0Lgg0LzQsNGC0LXRgNC40LDQu1xuICAgICAgbGV0IG1hdGVyaWFsO1xuICAgICAgZm9yIChjb25zdCBtIG9mIGNvbW1vbk1hdGVyaWFscykge1xuICAgICAgICBjb25zdCBtYXRlcmlhbFJlZ2V4ID0gbmV3IFJlZ0V4cChgXFxcXGIke219XFxcXHcqXFxcXHMrJHtpdGVtfVxcXFxifFxcXFxiJHtpdGVtfVxcXFxzK9C40LdcXFxccyske219XFxcXHcqXFxcXGJ8XFxcXGIke219XFxcXHcqXFxcXHMrJHtpdGVtfVxcXFxiYCwgJ2knKTtcbiAgICAgICAgaWYgKG1hdGVyaWFsUmVnZXgudGVzdChhbmFseXNpc1RleHQudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICBtYXRlcmlhbCA9IG07XG4gICAgICAgICAgY29uc29sZS5sb2coYCAg0J3QsNC50LTQtdC9INC80LDRgtC10YDQuNCw0Ls6ICR7bWF0ZXJpYWx9YCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgY2xvdGhpbmdJdGVtcy5wdXNoKHtcbiAgICAgICAgdHlwZTogaXRlbS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGl0ZW0uc2xpY2UoMSksXG4gICAgICAgIGNvbG9yLFxuICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgIC4uLihtYXRlcmlhbCAmJiB7IG1hdGVyaWFsIH0pLFxuICAgICAgICBnZW5kZXI6IGRldGVybWluZUdlbmRlcihhbmFseXNpc1RleHQsIGl0ZW0pXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgXG4gIGlmIChjbG90aGluZ0l0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICBjb25zb2xlLmxvZygn0J3QsNC50LTQtdC90Ysg0L/RgNC10LTQvNC10YLRiyDQvtC00LXQttC00Ys6JywgY2xvdGhpbmdJdGVtcyk7XG4gICAgcmV0dXJuIGNsb3RoaW5nSXRlbXM7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0YDQsNGB0L/QvtC30L3QsNGC0Ywg0L/RgNC10LTQvNC10YLRiyDQvtC00LXQttC00Ysg0LIg0YLQtdC60YHRgtC1LCDQstC+0LfQstGA0LDRidCw0LXQvCDQvNC+0LrQvtCy0YvQtSDQtNCw0L3QvdGL0LUnKTtcbiAgICByZXR1cm4gZ2V0TW9ja0FuYWx5c2lzUmVzcG9uc2UoKS5pdGVtcztcbiAgfVxufVxuXG4vLyDQl9Cw0LPQu9GD0YjQutCwINC00LvRjyDRgtC10YHRgtC40YDQvtCy0LDQvdC40Y8sINC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQutC+0LPQtNCwINC90LXRgiDQtNC+0YHRgtGD0L/QsCDQuiBQeXRob24gQVBJXG5mdW5jdGlvbiBnZXRNb2NrQW5hbHlzaXNSZXNwb25zZShpbWFnZVVybD86IHN0cmluZyk6IENsb3RoaW5nUmVjb2duaXRpb25EYXRhIHtcbiAgcmV0dXJuIHtcbiAgICBpdGVtczogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAn0KTRg9GC0LHQvtC70LrQsCcsXG4gICAgICAgIGNvbG9yOiAn0LHQtdC70LDRjycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAn0YXQu9C+0L/QutC+0LLQsNGPINGBINC60YDRg9Cz0LvRi9C8INCy0YvRgNC10LfQvtC8JyxcbiAgICAgICAgbWF0ZXJpYWw6ICfRhdC70L7Qv9C+0LonLFxuICAgICAgICBnZW5kZXI6ICfQttC10L3RgdC60LjQuSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICfQlNC20LjQvdGB0YsnLFxuICAgICAgICBjb2xvcjogJ9GB0LjQvdC40LUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ9C60LvQsNGB0YHQuNGH0LXRgdC60LjQtSDQv9GA0Y/QvNC+0LPQviDQutGA0L7RjycsXG4gICAgICAgIG1hdGVyaWFsOiAn0LTQtdC90LjQvCcsXG4gICAgICAgIGdlbmRlcjogJ9C20LXQvdGB0LrQuNC5J1xuICAgICAgfVxuICAgIF0sXG4gICAgZnVsbERlc2NyaXB0aW9uOiAn0J3QsCDQuNC30L7QsdGA0LDQttC10L3QuNC4INC/0YDQtdC00YHRgtCw0LLQu9C10L0g0L/QvtCy0YHQtdC00L3QtdCy0L3Ri9C5INC60L7QvNC/0LvQtdC60YIsINGB0L7RgdGC0L7Rj9GJ0LjQuSDQuNC3INCx0LXQu9C+0Lkg0YXQu9C+0L/QutC+0LLQvtC5INGE0YPRgtCx0L7Qu9C60Lgg0YEg0LrRgNGD0LPQu9GL0Lwg0LLRi9GA0LXQt9C+0Lwg0Lgg0LrQu9Cw0YHRgdC40YfQtdGB0LrQuNGFINC/0YDRj9C80YvRhSDRgdC40L3QuNGFINC00LbQuNC90YHQvtCyLidcbiAgfTtcbn1cblxuLy8g0KTRg9C90LrRhtC40Y8g0LTQu9GPINC+0L/RgNC10LTQtdC70LXQvdC40Y8g0L/QvtC70LAg0LjQtyDRgtC10LrRgdGC0LAg0LDQvdCw0LvQuNC30LBcbmZ1bmN0aW9uIGRldGVybWluZUdlbmRlcih0ZXh0OiBzdHJpbmcsIGl0ZW1OYW1lOiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAvLyDQmNGJ0LXQvCDRj9Cy0L3QvtC1INGD0LrQsNC30LDQvdC40LUg0L/QvtC70LAg0LTQu9GPINCy0YHQtdCz0L4g0L7QsdGA0LDQt9CwXG4gIGNvbnN0IGdlbmVyYWxHZW5kZXJNYXRjaCA9IHRleHQubWF0Y2goL9Cf0J7QmzpcXHMqKNC80YPQttGB0LrQvtC5fNC20LXQvdGB0LrQuNC5fNGD0L3QuNGB0LXQutGBKS9pKTtcbiAgbGV0IGdlbmVyYWxHZW5kZXIgPSBnZW5lcmFsR2VuZGVyTWF0Y2ggPyBnZW5lcmFsR2VuZGVyTWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZDtcbiAgXG4gIC8vINCY0YnQtdC8INGD0LrQsNC30LDQvdC40LUg0L/QvtC70LAg0LTQu9GPINC60L7QvdC60YDQtdGC0L3QvtCz0L4g0L/RgNC10LTQvNC10YLQsFxuICBjb25zdCBpdGVtR2VuZGVyUmVnZXggPSBuZXcgUmVnRXhwKGAoJHtpdGVtTmFtZX0pLio/0L/QvtC7OlxcXFxzKijQvNGD0LbRgdC60L7QuXzQttC10L3RgdC60LjQuXzRg9C90LjRgdC10LrRgSlgLCAnaScpO1xuICBjb25zdCBpdGVtR2VuZGVyTWF0Y2ggPSB0ZXh0Lm1hdGNoKGl0ZW1HZW5kZXJSZWdleCk7XG4gIFxuICAvLyDQktC+0LfQstGA0LDRidCw0LXQvCDQv9C+0Lsg0LTQu9GPINC60L7QvdC60YDQtdGC0L3QvtCz0L4g0L/RgNC10LTQvNC10YLQsCwg0LXRgdC70Lgg0L3QsNC50LTQtdC9LCDQuNC90LDRh9C1INC+0LHRidC40Lkg0L/QvtC7XG4gIHJldHVybiBpdGVtR2VuZGVyTWF0Y2ggPyBpdGVtR2VuZGVyTWF0Y2hbMl0udG9Mb3dlckNhc2UoKSA6IGdlbmVyYWxHZW5kZXI7XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJqb2luIiwid3JpdGVGaWxlIiwidjQiLCJ1dWlkdjQiLCJta2RpciIsImFjY2VzcyIsInBhdGgiLCJQWVRIT05fQVBJX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJjaGVja0FwaUF2YWlsYWJpbGl0eSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwic2lnbmFsIiwiQWJvcnRTaWduYWwiLCJ0aW1lb3V0Iiwib2siLCJlcnJvciIsImNvbnNvbGUiLCJQT1NUIiwicmVxdWVzdCIsImlzQXBpQXZhaWxhYmxlIiwibG9nIiwiZm9ybURhdGEiLCJmaWxlIiwiZ2V0IiwianNvbiIsInN0YXR1cyIsInR5cGUiLCJzdGFydHNXaXRoIiwidXBsb2FkRGlyIiwiY3dkIiwicmVjdXJzaXZlIiwiZmlsZUV4dCIsImV4dG5hbWUiLCJuYW1lIiwiZmlsZW5hbWUiLCJmaWxlcGF0aCIsImJ5dGVzIiwiYXJyYXlCdWZmZXIiLCJidWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwiZmlsZVVybCIsImdldE1vY2tBbmFseXNpc1Jlc3BvbnNlIiwiaW1hZ2VVcmwiLCJweXRob25BcGlGb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiQmxvYiIsInB5dGhvbkFwaVJlc3BvbnNlIiwiYm9keSIsImFuYWx5c2lzRGF0YSIsIml0ZW1zIiwicGFyc2VDbG90aGluZ0l0ZW1zRnJvbUFuYWx5c2lzIiwiZnVsbERlc2NyaXB0aW9uIiwiYW5hbHlzaXMiLCJlcnJvclRleHQiLCJ0ZXh0Iiwic3RhdHVzVGV4dCIsIm1lc3NhZ2UiLCJlbGVtZW50cyIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIml0ZW0iLCJjb2xvciIsImRlc2NyaXB0aW9uIiwibWF0ZXJpYWwiLCJwYXR0ZXJuIiwiZ2VuZGVyIiwicG9zc2libGVEYXRhRmllbGRzIiwiZmllbGQiLCJhbmFseXNpc1RleHQiLCJjbG90aGluZ0l0ZW1zIiwiY29tbW9uQ2xvdGhpbmdJdGVtcyIsImNvbW1vbkNvbG9ycyIsImNvbW1vbk1hdGVyaWFscyIsInJlZ2V4IiwiUmVnRXhwIiwidGVzdCIsInRvTG93ZXJDYXNlIiwiYyIsImNvbG9yUmVnZXgiLCJtIiwibWF0ZXJpYWxSZWdleCIsInB1c2giLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiZGV0ZXJtaW5lR2VuZGVyIiwibGVuZ3RoIiwiaXRlbU5hbWUiLCJnZW5lcmFsR2VuZGVyTWF0Y2giLCJtYXRjaCIsImdlbmVyYWxHZW5kZXIiLCJ1bmRlZmluZWQiLCJpdGVtR2VuZGVyUmVnZXgiLCJpdGVtR2VuZGVyTWF0Y2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/analyze-image/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/uuid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze-image%2Froute&page=%2Fapi%2Fanalyze-image%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze-image%2Froute.ts&appDir=C%3A%5CUsers%5Copton%5CDownloads%5Cpinterest_parser-main%5Cweb-interface%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Copton%5CDownloads%5Cpinterest_parser-main%5Cweb-interface&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();